@model courseManagementSystemV1.Models.Course

<h2>@Model.CourseName</h2>

<div class="row">
    <div class="col-md-4">
        @if (!string.IsNullOrEmpty(Model.CoursePhoto))
        {
            <img src="@Model.CoursePhoto" class="img-fluid" alt="@Model.CourseName">
        }
    </div>
    <div class="col-md-8">
        <p>@Model.CourseDescription</p>
        <p><strong>Start Date:</strong> @Model.CourseStartDate.ToShortDateString()</p>
        <p><strong>End Date:</strong> @Model.CourseEndDate?.ToShortDateString()</p>
        <p><strong>Course Time:</strong> @Model.CourseTime</p>
        <p><strong>Course State:</strong> @Model.CourseState</p>
        <p><strong>Available:</strong> @(Model.IsAvailable == true ? "Yes" : "No")</p>
    </div>
</div>

<h3>Course Requirements</h3>
@if (Model.courseRequirements != null && Model.courseRequirements.Any())
{
    <ul>
        @foreach (var requirement in Model.courseRequirements)
        {
            <li>@requirement.RequirementDescription</li>
        }
    </ul>
}
else
{
    <p>No requirements specified.</p>
}

<h3>Instructors</h3>
@if (Model.CourseManagements != null && Model.CourseManagements.Any())
{
    <ul>
        @foreach (var management in Model.CourseManagements)
        {
            <li>@management.instructor.User.UserFirstName @management.instructor.User.UserLastName</li>
        }
    </ul>
}
else
{
    <p>No instructors assigned.</p>
}

<h3>Comments</h3>
@if (ViewBag.Comments != null && ViewBag.Comments.Count > 0)
{
    foreach (var comment in ViewBag.Comments)
    {
        <div class="card mb-3">
            <div class="card-body">
                <h5 class="card-title">@comment.User.UserFirstName @comment.User.UserLastName</h5>
                <h6 class="card-subtitle mb-2 text-muted">@comment.commentdate</h6>
                <p class="card-text">@comment.commentContent</p>
            </div>
        </div>
    }
}
else
{
    <p>No comments yet.</p>
}

<a href="@Url.Action("Index")" class="btn btn-secondary">Back to Courses</a>